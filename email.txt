1.if the question asks about color , maximum first sell price and
license plate number of that car ,if the below solution right?

select distinct color1,lpn1,price1 from
(select color color1 ,max(first_sell_price) price1
from carmechanic.m_car
group by color )
join
(select color color2,license_plate_number lpn1,first_sell_price price2
from carmechanic.m_car)
on color1 = color2 and price1=price2
or color1 is null and price2 = (select max(first_sell_price)
from carmechanic.m_car
where color is null) ;

2.that lists the name and address of workshops in Debrecen, 
with the  name and address of the workshop's manager if this manager does not
live in Debrecen.

select w_name,w.address,m_name,m.address
from carmechanic.m_workshop w
join carmechanic.m_mechanic m on m_id = manager_id
where w.address like 'Debrecen%'
and m.address not like 'Debrecen%';

3.display  the name of owner who has never owned an Suzuki car.

select o_name from
(select o_id,o_name
from carmechanic.m_owner
minus
select o_id,o_name 
from carmechanic.m_owns
join carmechanic.m_owner on o_id = owner_id
where car_id  in (select c_id
from carmechanic.m_car_model
join carmechanic.m_car on model_id = cm_id
where make = 'Suzuki'));

4.Display the mechanics with the two highest salaries who are currently working for
'Kobela Bt.'  We need to display only the mechanics
name and salary ,sorted descending by salary.

with rankedmechanics as (
  select 
    m_name, 
    salary, 
    w_id,
    dense_rank() over (partition by w_id order by salary desc) as salary_rank
  from carmechanic.m_mechanic
  join carmechanic.m_works_for on m_id = mechanic_id
  join carmechanic.m_workshop on w_id = workshop_id
  where end_of_employment is null
  and w_name = 'Kobela Bt.'
)
select m_name, salary,w_id
from rankedmechanics
where salary_rank <= 2
order by w_id, salary desc;
