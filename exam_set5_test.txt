1. List all car makes sorted descending by their names.

select distinct make
from carmechanic.m_car_model
order by make desc;

2.List all data of car models that are not '5-door' models (the string '5-door' does 
not appear in their details) and whose brand names starts with the same letter as 
their model name.

select * 
from carmechanic.m_car_model
where details not like '%5-door%'
and  substr(cm_name,1,1) =substr(make,1,1);

3.List the date of car evaluations(together with associated identifiers ) that took place
within last 4 years or more than 15 years ago.Sort the list by evaluation date.

select car_id,evaluation_date
from carmechanic.m_car_evaluation
where months_between(sysdate,evaluation_date)/12 <= 4
or    months_between(sysdate,evaluation_date)/12 > 15
order by evaluation_date;

4.What is the difference between the highest and lowest price to which each car 
evaluated? The cars should be identified in the result by their identifiers.Sort
the list descending by the price difference.

select car_id, max(price)-min(price)
from carmechanic.m_car_evaluation
group by car_id
order by 2 desc;

5. Which cars were repaired more than four times ? The cars should be represented 
in the result by their identifiers ,sorted.

select car_id,count(car_id) 
from carmechanic.m_repair
having count(car_id)>4
group by car_id;

6.What is the average repair cost of all cars first sold in 2003?
select avg(repair_cost)
from carmechanic.m_car c
join carmechanic.m_repair r
on c.c_id = r.car_id
where extract(year from first_sell_date) = 2003;


7.List the average repair cost of each color .Include only those colors to which at 
least one car was repaired. Sort the result descending by average repair cost.

select color , avg(repair_cost)
from carmechanic.m_car c
join carmechanic.m_repair r
on c.c_id = r.car_id
where color in (select distinct color from carmechanic.m_repair)
group by color
order by 2 desc;

8.In which workshop was the car with license plate number 'AIT601' repaired?The workshop 
should be represented in the result by their names, each only once.

select distinct w_name 
from carmechanic.m_car c
join carmechanic.m_repair r
on c.c_id = r.car_id
join carmechanic.m_workshop w
on r.workshop_id = w.w_id
where license_plate_number like 'AIT601';

9.List all data of repairs with minimum cost.

select * 
from carmechanic.m_repair
where repair_cost =
(select min(repair_cost)
from carmechanic.m_repair);

10.List all data of green cars having lowest first sell price.

select * 
from carmechanic.m_car c
join carmechanic.m_repair r
on c.c_id = r.car_id
where color like 'green' 
and first_sell_price =
(select min(first_sell_price)
from carmechanic.m_car
where color like 'green');

